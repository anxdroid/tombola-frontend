<div class="row justify-content-md-center tavola">
  <div class="col-lg-3 mt-4">
    <h2>{{(session !== undefined && session.stato < 2) ? lastMessage : "Partita conclusa !"}}</h2>
    <h3>Montepremi: {{montepremi}} &euro;</h3>
    <ul>
      <li *ngFor="let ri of objectKeys(risultati); let r = index">
        <span [attr.class]="(session!== undefined && +session.ultimoRisultato < +ri) ? 'font-weight-bold text-uppercase' : 'text-uppercase'">{{risultati[ri].label}} - <span class="text-highlight"> {{risultati[ri].premio}} &euro;</span></span> 
      </li>
    </ul>
    <p>{{utentiConnessi.length}} utenti connessi</p>
  </div>
  <div class="col-lg-8">
    <div class="action">
      <div class="extract">
        <button id="extract" *ngIf="session !== undefined && session.stato < 2" class="button" [disabled]="waiting" (click)="extract()">{{(waiting) ? "Attendi..." : "Estrai !"}}</button>
      </div>
      <div class="extracted">
        <div class="number-meaning" *ngIf="session !== undefined && session.stato < 2">
          <div id="didascalia">{{numero.text}}</div>
          <div id="traduzione">{{numero.translation}}</div>
        </div>
        <div class="number text-highlight" *ngIf="session !== undefined && session.stato < 2" id="number">{{numero.number}}</div>
      </div>
    </div>

    <!--
    <div class="cartellone">
      <div *ngFor="let riga of cartellone; let r = index;" class="riga">
        <div [attr.class]="(newClose[r][0] ? 'new' : 'old')">
          <span class="indicatore" *ngIf="closeNumbers[r][0] > 0">{{closeNumbers[r][0]}}</span>
        </div>
        <div class="cella" [attr.id]="'id'+colonna.number" *ngFor="let colonna of riga; let c = index" style="border: none;">
          {{colonna.number}}
        </div>
        <div [attr.class]="(newClose[r][1] ? 'new' : 'old')">
          <span class="indicatore" *ngIf="closeNumbers[r][1] > 0">{{closeNumbers[r][1]}}</span>
        </div>
      </div>
    </div>
  </div>
  -->
    <div class="cartellone">
      <div *ngFor="let cartella of cartelle; let ca = index;" class="blocchetto">
        <div *ngFor="let riga of cartella.numeri; let r = index;" class="riga">
          <div [attr.class]="cartella.risultatiArray[r] > 0 && ca%2 == 0 ? 'risultato checked' : 'risultato'">
            {{(cartella.risultatiArray[r] > 0 && ca%2 == 0) ? cartella.risultatiArray[r] : ''}}
          </div>
          <div *ngFor="let numero of riga; let n = index;" class="cella" [ngClass]="{selected:numero.issued}">
            {{numero.number}}
          </div>
          <div [attr.class]="cartella.risultatiArray[r] > 0 && ca%2 != 0 ? 'risultato checked' : 'risultato'">
            {{(cartella.risultatiArray[r] > 0 && ca%2 != 0) ? cartella.risultatiArray[r] : ''}}
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


